!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.VueGutterResize={})}(this,function(e){"use strict";var t={data:function(){return{gutterComponent:{width:0,height:0,offsetX:0,offsetY:0}}},mounted:function(){this.setPlaygroundRect()},methods:{dragstart:function(e,t){this.target&&this.target.classList&&this.target.classList.remove("active"),e.target.classList.add("active"),this.target=e.target},setPlaygroundRect:function(){var e=this.$refs.gutter.getBoundingClientRect();this.gutterComponent.width=e.width,this.gutterComponent.height=e.height,this.gutterComponent.offsetX=window.pageXOffset+e.left,this.gutterComponent.offsetY=window.pageYOffset+e.top},isDraggingGutter:function(e){return e&&0<e.clientX&&0<e.clientY},isGutterInRange:function(e){return e<100&&0<e},getCurrentMousePosition:function(e){return{mouseX:e.clientX-this.gutterComponent.offsetX,mouseY:e.clientY-this.gutterComponent.offsetY}},getGutterSum:function(e,t,r){var i=0;if(this.gutterSizes&&this.gutterSizes.length&&0<this.gutterSizes.length){for(var n=0;n<e;n++)i+=0|this.gutterSizes[n].match(/-?[0-9]+\.?[0-9]*/g).pop();i+=(0|this.gutterSizes[e].match(/-?[0-9]+\.?[0-9]*/g).pop())/2}else{for(var s=0;s<e;s++)i+=0|this.gutterSize.match(/-?[0-9]+\.?[0-9]*/g).pop();i+=(0|this.gutterSize.match(/-?[0-9]+\.?[0-9]*/g).pop())/2}return i}}},r="undefined"!=typeof __vue_render__?{render:__vue_render__,staticRenderFns:__vue_staticRenderFns__}:{};var i,n,s,o,a,u=(i=r,n=void 0===t?{}:t,o=s=void 0,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(a=("function"==typeof n?n.options:n)||{}).__file="/Users/tobashunsuke/development/vue-gutter-resize/src/mixins/gutter.vue",a.render||(a.render=i.render,a.staticRenderFns=i.staticRenderFns,a._compiled=!0,o&&(a.functional=!0)),a._scopeId=s,a),d={name:"columnGutter",mixins:[u],props:["width","height","gutterSize","gutterSizes","color","column","colors","columnSizes"],data:function(){return{col:[],target:void 0}},created:function(){var r=this;if(this.columnSizes&&this.columnSizes.length&&0<this.columnSizes.length){var i=this.columnSizes.reduce(function(e,t){return e+t});this.columnSizes.forEach(function(e){var t=100/i;r.col.push(e*t)})}else for(var e=0;e<this.column;e++)this.col.push(100/this.column)},methods:{drag:function(e,t){var r=this.getCurrentMousePosition(e).mouseX,i=this.getGutterSum(t,this.gutterSize,this.gutterSizes);if(this.isDraggingGutter(e)){var n=(r+i)/this.gutterComponent.width*100;if(this.isGutterInRange(n)){for(var s=0,o=0;o<t;o++)s+=this.col[o];var a=this.col[t]+this.col[t+1];0<=n-s&&0<=s+a-n&&(this.col.splice(t,1,n-s),this.col.splice(t+1,1,s+a-n),this.$emit("resize",{col:this.col}))}}}}},c=function(){var r=this,e=r.$createElement,i=r._self._c||e;return i("section",{ref:"gutter",style:"width: "+r.width+"; height: "+r.height+";"},[i("div",{staticClass:"pane pane-v left",style:"height: 100%; width: calc("+r.col[0]+"% - "+(r.gutterSize||r.gutterSizes[0])+");"},[r._t("col-0")],2),r._v(" "),r._l(r.column-1,function(t){return i("div",{key:t,style:"display: inline-block; height: 100%; width: calc("+r.col[t]+"% - "+(r.gutterSize||r.gutterSizes[t-1])+");"},[i("div",{staticClass:"gutter gutter-v",style:"width: "+(r.gutterSize||r.gutterSizes[t-1])+"; height: "+r.height+"; background-color: "+(r.color||r.colors[t-1])+";",attrs:{draggable:"true"},on:{drag:function(e){r.drag(e,t-1)},dragstart:function(e){r.dragstart(e,t-1)}}}),r._v(" "),t!==r.column-1?i("div",{staticClass:"pane pane-v",style:"height: 100%; width: calc(100% - "+(r.gutterSize||r.gutterSizes[t-1])},[r._t("col-"+t)],2):i("div",{staticClass:"pane pane-v",style:"height: 100%; width: calc(100%}"},[r._t("col-"+t)],2)])})],2)};c._withStripped=!0;function h(){var d=document.head||document.getElementsByTagName("head")[0],c=h.styles||(h.styles={}),l="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,t){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var r=l?t.media||"default":e,i=c[r]||(c[r]={ids:[],parts:[],element:void 0});if(!i.ids.includes(e)){var n=t.source,s=i.ids.length;if(i.ids.push(e),l&&(i.element=i.element||document.querySelector("style[data-group="+r+"]")),!i.element){var o=i.element=document.createElement("style");o.type="text/css",t.media&&o.setAttribute("media",t.media),l&&(o.setAttribute("data-group",r),o.setAttribute("data-next-index","0")),d.appendChild(o)}if(l&&(s=parseInt(i.element.getAttribute("data-next-index")),i.element.setAttribute("data-next-index",s+1)),i.element.styleSheet)i.parts.push(n),i.element.styleSheet.cssText=i.parts.filter(Boolean).join("\n");else{var a=document.createTextNode(n),u=i.element.childNodes;u[s]&&i.element.removeChild(u[s]),u.length?i.element.insertBefore(a,u[s]):i.element.appendChild(a)}}}}}var l=function(e,t,r,i,n,s,o,a){var u=("function"==typeof r?r.options:r)||{};u.__file="/Users/tobashunsuke/development/vue-gutter-resize/src/components/column-gutter.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,n&&(u.functional=!0)),u._scopeId=i;var d=void 0;if(t&&(d=function(e){t.call(this,o(e))}),void 0!==d)if(u.functional){var c=u.render;u.render=function(e,t){return d.call(t),c(e,t)}}else{var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,d):[d]}return u}(void 0!==c?{render:c,staticRenderFns:[]}:{},function(e){e&&e("data-v-ac07d972_0",{source:"\n.pane-v[data-v-ac07d972] {\n  float: left;\n}\n.gutter[data-v-ac07d972] {\n  background: #ccc;\n  overflow: hidden;\n  position: relative;\n}\n.active[data-v-ac07d972] {\n  z-index: 1;\n}\n.gutter-v[data-v-ac07d972] {\n  float: left;\n  width: 2px;\n  height: 100%;\n  cursor: ew-resize;\n}\n",map:void 0,media:void 0})},void 0===d?{}:d,"data-v-ac07d972",!1,0,void 0!==h?h:function(){},"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__),g={name:"rowGutter",mixins:[u],props:["width","height","gutterSize","gutterSizes","color","row","colors","rowSizes"],data:function(){return{rowArray:[],target:void 0}},created:function(){var r=this;if(this.rowSizes&&this.rowSizes.length&&0<this.rowSizes.length){var i=this.rowSizes.reduce(function(e,t){return e+t});this.rowSizes.forEach(function(e){var t=100/i;r.rowArray.push(e*t)})}else for(var e=0;e<this.row;e++)this.rowArray.push(100/this.row)},methods:{drag:function(e,t){var r=this.getCurrentMousePosition(e).mouseY,i=this.getGutterSum(t,this.gutterSize,this.gutterSizes);if(this.isDraggingGutter(e)){var n=(r+i)/this.gutterComponent.height*100;if(this.isGutterInRange(n)){for(var s=0,o=0;o<t;o++)s+=this.rowArray[o];var a=this.rowArray[t]+this.rowArray[t+1];0<=n-s&&0<=s+a-n&&(this.rowArray.splice(t,1,n-s),this.rowArray.splice(t+1,1,s+a-n),this.$emit("resize",{row:this.rowArray}))}}}}},f=function(){var r=this,e=r.$createElement,i=r._self._c||e;return i("section",{ref:"gutter",style:"width: "+r.width+"; height: "+r.height+";"},[i("div",{style:"height: calc("+r.rowArray[0]+"%);"},[r._t("row-0")],2),r._v(" "),r._l(r.row-1,function(t){return i("div",{key:t,style:"height: calc("+r.rowArray[t]+"% - "+(r.gutterSize||r.gutterSizes[t-1])+");"},[i("div",{staticClass:"gutter gutter-h",style:"height: "+(r.gutterSize||r.gutterSizes[t-1])+"; width: "+r.width+"; background-color: "+(r.color||r.colors[t-1])+";",attrs:{draggable:"true"},on:{drag:function(e){r.drag(e,t-1)},dragstart:function(e){r.dragstart(e,t-1)}}}),r._v(" "),t!==r.row-1?i("div",{staticClass:"pane pane-h",style:"height: calc(100% - "+(r.gutterSize||r.gutterSizes[t-1])+");"},[r._t("row-"+t)],2):i("div",{staticClass:"pane pane-h",style:"height: calc(100%});"},[r._t("row-"+t)],2)])})],2)};f._withStripped=!0;function v(){var d=document.head||document.getElementsByTagName("head")[0],c=v.styles||(v.styles={}),l="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,t){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var r=l?t.media||"default":e,i=c[r]||(c[r]={ids:[],parts:[],element:void 0});if(!i.ids.includes(e)){var n=t.source,s=i.ids.length;if(i.ids.push(e),l&&(i.element=i.element||document.querySelector("style[data-group="+r+"]")),!i.element){var o=i.element=document.createElement("style");o.type="text/css",t.media&&o.setAttribute("media",t.media),l&&(o.setAttribute("data-group",r),o.setAttribute("data-next-index","0")),d.appendChild(o)}if(l&&(s=parseInt(i.element.getAttribute("data-next-index")),i.element.setAttribute("data-next-index",s+1)),i.element.styleSheet)i.parts.push(n),i.element.styleSheet.cssText=i.parts.filter(Boolean).join("\n");else{var a=document.createTextNode(n),u=i.element.childNodes;u[s]&&i.element.removeChild(u[s]),u.length?i.element.insertBefore(a,u[s]):i.element.appendChild(a)}}}}}var m=function(e,t,r,i,n,s,o,a){var u=("function"==typeof r?r.options:r)||{};u.__file="/Users/tobashunsuke/development/vue-gutter-resize/src/components/row-gutter.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,n&&(u.functional=!0)),u._scopeId=i;var d=void 0;if(t&&(d=function(e){t.call(this,o(e))}),void 0!==d)if(u.functional){var c=u.render;u.render=function(e,t){return d.call(t),c(e,t)}}else{var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,d):[d]}return u}(void 0!==f?{render:f,staticRenderFns:[]}:{},function(e){e&&e("data-v-2d284b54_0",{source:"\n.pane[data-v-2d284b54] {\n  height: 100%;\n}\n.pane-v[data-v-2d284b54] {\n  float: left;\n}\n.gutter[data-v-2d284b54] {\n  background: #ccc;\n  overflow: hidden;\n  position: relative;\n}\n.active[data-v-2d284b54] {\n  z-index: 1;\n}\n.gutter-h[data-v-2d284b54] {\n  width: 100%;\n  height: 2px;\n  cursor: ns-resize;\n}\n",map:void 0,media:void 0})},void 0===g?{}:g,"data-v-2d284b54",!1,0,void 0!==v?v:function(){},"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__),p={columnGutter:l,rowGutter:m};var _={install:function(t){Object.keys(p).forEach(function(e){t.component(e,p[e])})}};e.columnGutter=l,e.rowGutter=m,e.default=_,Object.defineProperty(e,"__esModule",{value:!0})});
